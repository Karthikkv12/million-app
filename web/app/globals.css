@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #f8f9fc;
  --foreground: #0f1117;
  --surface:    #ffffff;
  --surface-2:  #f1f3f8;
  --border:     #e4e7ef;
  --brand:      #4f6ef7;
  --brand-2:    #7c3aed;
  --sidebar-w:  240px;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0c0e14;
    --foreground: #e8eaf2;
    --surface:    #13151e;
    --surface-2:  #1a1d29;
    --border:     #252836;
    --brand:      #6b82f8;
    --brand-2:    #9461fb;
  }
}

html {
  scroll-behavior: smooth;
  -webkit-tap-highlight-color: transparent;
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: var(--font-geist-sans), system-ui, -apple-system, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overscroll-behavior-y: none;
}

/* ── Scrollbar ─────────────────────────────────────────────────────────────── */
::-webkit-scrollbar { width: 4px; height: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 99px; }
::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
.dark ::-webkit-scrollbar-thumb { background: #2d3148; }
.dark ::-webkit-scrollbar-thumb:hover { background: #3f4466; }

/* ── Autofill fix ──────────────────────────────────────────────────────────── */
input:-webkit-autofill,
input:-webkit-autofill:focus {
  transition: background-color 0s 600000s, color 0s 600000s;
}

/* ── Number input — hide spinners ──────────────────────────────────────────── */
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
input[type="number"] { -moz-appearance: textfield; }

/* ── Sidebar fade-in ───────────────────────────────────────────────────────── */
@keyframes slide-in-left {
  from { opacity: 0; transform: translateX(-8px); }
  to   { opacity: 1; transform: translateX(0); }
}
@keyframes fade-up {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}

@layer utilities {
  .text-balance { text-wrap: balance; }

  /* Safe-area padding */
  .pb-safe { padding-bottom: env(safe-area-inset-bottom, 0px); }
  .pb-nav  { padding-bottom: calc(5rem + env(safe-area-inset-bottom, 0px)); }

  /* Card hover */
  .card-hover {
    @apply transition-all duration-200 hover:shadow-lg hover:shadow-black/5 hover:-translate-y-0.5;
  }

  /* Gradient text */
  .gradient-text {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-violet-500;
  }

  /* Skeleton */
  .skeleton {
    @apply rounded-xl animate-pulse;
    background: linear-gradient(90deg, var(--surface-2) 25%, var(--border) 50%, var(--surface-2) 75%);
    background-size: 200% 100%;
    animation: shimmer 1.6s infinite;
  }

  /* Glass surface */
  .glass {
    @apply backdrop-blur-xl bg-white/80 dark:bg-gray-950/80 border border-white/60 dark:border-white/5;
  }

  /* Fade-up page entry */
  .animate-fade-up {
    animation: fade-up 0.35s ease both;
  }

  /* Sidebar nav item active glow */
  .nav-active {
    background: linear-gradient(135deg, rgba(79,110,247,0.15) 0%, rgba(124,58,237,0.1) 100%);
    @apply text-blue-600 dark:text-blue-400;
  }
}

@keyframes shimmer {
  0%   { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

@keyframes refresh-pulse {
  0%   { box-shadow: 0 0 0 0   rgba(99, 130, 251, 0.55); }
  70%  { box-shadow: 0 0 0 8px rgba(99, 130, 251, 0);    }
  100% { box-shadow: 0 0 0 0   rgba(99, 130, 251, 0);    }
}
